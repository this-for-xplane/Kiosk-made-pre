<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<!-- ğŸ”’ í™•ëŒ€/ì¶•ì†Œ ë°©ì§€ -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Kiosk Simulator - Fixed Version</title>
<style>
/* ğŸ”’ í…ìŠ¤íŠ¸ ì„ íƒ, í™•ëŒ€, í•˜ì´ë¼ì´íŠ¸ ì™„ì „ ì°¨ë‹¨ */
* { 
  box-sizing:border-box; 
  margin:0; 
  padding:0; 
  font-family:'Arial',sans-serif; 
  user-select:none; 
  -webkit-user-select:none;
  -webkit-touch-callout:none;
  -ms-user-select:none;
  touch-action:manipulation;
}
button, div {
  -webkit-tap-highlight-color: transparent;
}

body {
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  background:#f0f0f0;
}

.kiosk-container {
  position:relative;
}

.stand {
  width:360px;
  background:#fff;
  border-radius:25px;
  box-shadow:0 15px 40px rgba(0,0,0,0.25);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  transform:translateY(0);
  transition:transform 0.1s linear;
}

/* ìƒë‹¨ ë°” */
.top-bar {
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:#222;
  color:white;
  padding:12px 15px;
}
.top-bar button {
  background:#555;
  color:white;
  border:none;
  border-radius:8px;
  padding:6px 10px;
  cursor:pointer;
  font-weight:bold;
  transition:0.2s;
}
.top-bar button:hover { background:#777; }

/* ë©”ë‰´ ì˜ì—­ */
.main-screen {
  background:#eaeaea;
  padding:12px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:10px;
  position:relative;
}
.tile {
  width:45%;
  height:70px;
  background:white;
  border:1px solid #ccc;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 5px 10px rgba(0,0,0,0.1);
  transition:0.15s;
}
.tile:hover {
  transform:translateY(-3px);
  box-shadow:0 8px 15px rgba(0,0,0,0.2);
}

/* ê²°ì œ í‘œì‹œì°½ */
.payment-display {
  position:absolute;
  top:40%;
  left:50%;
  transform:translate(-50%,-50%);
  background:rgba(0,0,0,0.8);
  color:white;
  padding:10px 20px;
  border-radius:8px;
  font-weight:bold;
  opacity:0;
  transition:opacity 0.3s;
}

/* í•˜ë‹¨ ì˜ì—­ */
.bottom-frame {
  display:flex;
  flex-direction:column;
  gap:8px;
  padding:10px;
  background:#ccc;
  border-top:4px solid #aaa;
}

/* ì„ íƒí•œ ì•„ì´í…œ */
.selected-items {
  background:#ddd;
  min-height:60px;
  border-radius:8px;
  padding:6px;
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:5px;
  box-shadow:inset 0 -2px 4px rgba(0,0,0,0.2);
  font-size:14px;
}

/* ë²„íŠ¼ ë¼ì¸ */
.bottom-buttons {
  display:flex;
  gap:8px;
  justify-content:space-between;
  align-items:center;
}

/* ì¹´ë“œ ìŠ¬ë¡¯ */
.card-slot {
  flex:1;
  background:#777;
  border-radius:8px;
  color:white;
  font-weight:bold;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
  cursor:pointer;
  height:50px;
  box-shadow:inset 0 -4px 6px rgba(0,0,0,0.3);
  overflow:hidden;
}
.card-slot::before {
  content:'';
  position:absolute;
  top:50%;
  left:50%;
  width:85%;
  height:6px;
  background:#555;
  border-radius:3px;
  transform:translate(-50%,-50%);
}
.card-insert {
  position:absolute;
  width:80%;
  height:25px;
  background:linear-gradient(90deg,#3a3a3a,#5a5a5a);
  border-radius:3px;
  bottom:-30px;
  left:10%;
  transition:transform 0.6s cubic-bezier(0.45,0,0.55,1);
  transform:translateY(0);
}

/* QR */
.qr-reader {
  flex:1;
  background:#e53935;
  border-radius:8px;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
  cursor:pointer;
  height:50px;
  box-shadow:inset 0 -4px 6px rgba(0,0,0,0.4);
}
.qr-reader::after {
  content:'';
  position:absolute;
  top:10px;
  left:10px;
  width:10px;
  height:10px;
  background:white;
  border-radius:50%;
  animation:blink 1s infinite;
}
@keyframes blink {
  0%,50%,100%{opacity:1;}
  25%,75%{opacity:0;}
}

/* ì˜ìˆ˜ì¦ ìŠ¬ë¡¯ */
.receipt-slot {
  flex:1;
  background:#666;
  border-radius:8px;
  color:white;
  font-weight:bold;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  position:relative;
  cursor:pointer;
  height:50px;
  box-shadow:inset 0 -4px 6px rgba(0,0,0,0.5);
  overflow:hidden;
}
.receipt-insert {
  position:absolute;
  width:70%;
  height:0;
  background:#f9f9f9;
  top:0;
  left:15%;
  border-radius:3px;
  overflow:hidden;
  box-shadow:0 4px 8px rgba(0,0,0,0.25);
}
@keyframes printReceipt {
  0%{height:0;}
  20%{height:60px;}
  50%{height:130px;}
  75%{height:180px;}
  100%{height:220px;}
}
.receipt-active {
  animation:printReceipt 3.5s ease-out forwards;
}

/* ê²°ì œ ë²„íŠ¼ */
#pay-button {
  background:#28a745;
  color:white;
  border:none;
  padding:8px 12px;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
  display:none;
}

/* í™˜ì˜í™”ë©´ */
#welcome-overlay {
  position:absolute;
  inset:0;
  background:linear-gradient(180deg,#007bff,#004aad);
  color:white;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  font-weight:bold;
  font-size:24px;
  border-radius:25px;
  z-index:50;
  cursor:pointer;
}
#welcome-overlay p { font-size:15px; margin-top:10px; opacity:0.9; }

/* ğŸ”¼ğŸ”½ ë†’ì´ ì¡°ì ˆ ë²„íŠ¼ */
.height-controls {
  position:absolute;
  right:-50px;
  bottom:100px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.height-controls button {
  width:45px;
  height:45px;
  background:#444;
  color:#fff;
  border:none;
  border-radius:10px;
  font-size:20px;
  cursor:pointer;
  box-shadow:0 3px 6px rgba(0,0,0,0.3);
  transition:0.2s;
}
.height-controls button:hover {
  background:#666;
}
</style>
</head>
<body>

<div class="kiosk-container">
  <div class="stand" id="stand">
    <div class="top-bar">
      <button id="language-btn">ğŸŒ ì–¸ì–´</button>
      <button id="help-btn">ë„ì›€</button>
    </div>

    <div class="main-screen" id="main-screen">
      <div class="tile">ë©”ë‰´ 1</div>
      <div class="tile">ë©”ë‰´ 2</div>
      <div class="tile">ë©”ë‰´ 3</div>
      <div class="tile">ë©”ë‰´ 4</div>
      <div class="tile">ë©”ë‰´ 5</div>
      <div class="tile">ë©”ë‰´ 6</div>
      <div class="payment-display" id="payment-display">ê²°ì œ ì¤‘...</div>
    </div>

    <div class="bottom-frame">
      <div class="selected-items" id="selected-items">ì„ íƒí•œ ë©”ë‰´ ì—†ìŒ</div>
      <div class="bottom-buttons">
        <div class="card-slot" id="card-slot">
          <div class="card-insert" id="card-insert"></div>
        </div>
        <div class="qr-reader" id="qr-reader">QR</div>
        <div class="receipt-slot" id="receipt-slot">
          ì˜ìˆ˜ì¦
          <div class="receipt-insert" id="receipt-insert"></div>
        </div>
        <button id="pay-button">ê²°ì œí•˜ê¸°</button>
      </div>
    </div>
  </div>

  <!-- ğŸ”¼ğŸ”½ ë†’ì´ ì¡°ì ˆ ë²„íŠ¼ -->
  <div class="height-controls">
    <button id="upBtn">ğŸ”¼</button>
    <button id="downBtn">ğŸ”½</button>
  </div>

  <div id="welcome-overlay">
    í™˜ì˜í•©ë‹ˆë‹¤
    <p>í™”ë©´ì„ í„°ì¹˜í•˜ì—¬ ì‹œì‘í•˜ì„¸ìš”</p>
  </div>
</div>

<script>
const selectedItems = document.getElementById('selected-items');
const tiles = document.querySelectorAll('.tile');
const payButton = document.getElementById('pay-button');
const cardSlot = document.getElementById('card-slot');
const cardInsert = document.getElementById('card-insert');
const receiptInsert = document.getElementById('receipt-insert');
const paymentDisplay = document.getElementById('payment-display');
const welcomeOverlay = document.getElementById('welcome-overlay');
const stand = document.getElementById('stand');
const upBtn = document.getElementById('upBtn');
const downBtn = document.getElementById('downBtn');
let cardInserted = false;
let currentY = 0;

// ë©”ë‰´ ì„ íƒ
tiles.forEach(tile=>{
  tile.addEventListener('click',()=>{
    if(selectedItems.textContent==="ì„ íƒí•œ ë©”ë‰´ ì—†ìŒ") selectedItems.textContent="";
    const tag = document.createElement('div');
    tag.textContent = tile.textContent;
    tag.style.background="#fff";
    tag.style.padding="3px 8px";
    tag.style.borderRadius="6px";
    tag.style.border="1px solid #ccc";
    tag.style.cursor="pointer";

    tag.addEventListener('click', ()=>{
      tag.remove();
      if(selectedItems.children.length === 0) {
        selectedItems.textContent = "ì„ íƒí•œ ë©”ë‰´ ì—†ìŒ";
        payButton.style.display='none';
      }
    });

    selectedItems.appendChild(tag);
    payButton.style.display='inline-block';
  });
});

// ê²°ì œ ë²„íŠ¼ í´ë¦­ â†’ ì¹´ë“œ ì‚½ì… ì•ˆë‚´
payButton.addEventListener('click',()=>{
  alert("ì¹´ë“œ íˆ¬ì…êµ¬ë¥¼ í„°ì¹˜í•˜ì„¸ìš”!");
});

// ì¹´ë“œ ìŠ¬ë¡¯ í´ë¦­ ì‹œ ê²°ì œ ì§„í–‰
cardSlot.addEventListener('click',()=>{
  if(selectedItems.textContent==="ì„ íƒí•œ ë©”ë‰´ ì—†ìŒ" || cardInserted) return;
  performPayment();
});

function performPayment(){
  cardInserted = true;
  cardInsert.style.transform = "translateY(-110%)";
  paymentDisplay.textContent = "ê²°ì œ ì¤‘...";
  paymentDisplay.style.opacity = "1";

  setTimeout(()=>{ paymentDisplay.textContent = "ê²°ì œ ì™„ë£Œ!"; },2000);
  setTimeout(()=>{ receiptInsert.classList.add('receipt-active'); },2500);
  setTimeout(()=>{
    paymentDisplay.style.opacity = "0";
    cardInsert.style.transform = "translateY(0)";
    setTimeout(()=>{
      receiptInsert.classList.remove('receipt-active');
      receiptInsert.style.height="0";
      selectedItems.textContent = "ì„ íƒí•œ ë©”ë‰´ ì—†ìŒ";
      payButton.style.display='none';
      cardInserted = false;
    },4000);
  },6000);
}

// QR / ê¸°íƒ€ ë²„íŠ¼
document.getElementById('qr-reader').addEventListener('click',()=>alert("QRì½”ë“œë¥¼ ì¸ì‹í•˜ì„¸ìš”"));
document.getElementById('language-btn').addEventListener('click',()=>alert("ì–¸ì–´ ë³€ê²½"));
document.getElementById('help-btn').addEventListener('click',()=>alert("ë„ì›€ì´ í•„ìš”í•˜ì‹ ê°€ìš”?"));

// í™˜ì˜í™”ë©´ í´ë¦­ì‹œ ì‹œì‘
welcomeOverlay.addEventListener('click',()=>{ welcomeOverlay.style.display='none'; });

// ğŸ”¼ğŸ”½ ë†’ì´ ì¡°ì ˆ ë²„íŠ¼ ê¸°ëŠ¥
upBtn.addEventListener('click', () => {
  currentY -= 20;
  stand.style.transform = `translateY(${currentY}px)`;
});
downBtn.addEventListener('click', () => {
  currentY += 20;
  stand.style.transform = `translateY(${currentY}px)`;
});
</script>

</body>
</html>
